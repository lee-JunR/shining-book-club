# 8 ~ 9장 정리
## 8장. 거대한 표현을 잘게 쪼개기
- 거대한 표현을 더 소화하기 쉬운 여러 조각으로 나눈다.
1. 설명 변수
- 작은 하위표현을 담을 추가변수(설명번수)를 만든다.
2. 요약 변수
- 커다란 코드의 덩어리를 짧은 이름으로 대체하여 더 쉽게 관리하고 파악하는 목적으로 요약 변수를 이용한다.
  ```
   final boolean user_owns_document = (request.user.id = document.owner_id);
   if (user_owns_document) {
     // 사용자가 이 문서를 수정할 수 있다....
   }
   if (luser_owns_document) (
     // 문서는 읽기전용이다...
   }
  ```
3. 드모르간의 법칙 사용하기
- "not을 분배하고 and/or를 바꿔라"
```
 if (!(file_exists && !is_protected)) Error("미안합니다. 파일을 읽을 수 없습니다.");
```
다음과 같이 수정한다.
```
 if (!file_exists || is_protected) Error("미안합니다. 파일을 읽을 수 없습니다.");
```
4. 쇼트 서킷 논리 오용 말기
- '영리하게' 작성된 코드에 유의하라. 나중에 다른사람이 읽으면 그런 코드가 종종 혼란을 초래한다.
5. 복잡한 논리와 씨름하기
```
   bool Range::OverlapsWith(Range other){
       // 'begin'이나 'end'가 'other'에 속하는지 검사한다.
       return (begin >= other.begin && begin <= other.end) ||
              (end >= other.begin && end <= other.end);
   }
```
- 똑같은 문제를 '반대되는' 방법으로 해결할 수 있는지 확인한다. (배열을 역순으로 반복하거나 어떤 데이터 구조를 뒤로 가면서 채워 넣는 것을 의미)
    1. 다른 범위가 이 범위 시작보다 전에 끝난다.
    2. 다른 범위가 이 범위가 끝난 후에 시작된다.
  ```
   bool Range::OverlapsWith(Range other) {
     if (other.end <= begin) return false; // 우리가 시작하기 전에 끝난다.
     if (other.begin >= end) return false; // 우리가 끝난 후에 시작한다.
  
     return true; // 마지막 가능성만 남았다. 즉 겹친다.
   }
  ```
6. 거대한 구문 나누기
- 동일한 부분을 요약 변수로 추출해서 함수의 앞부분에 놓아둘 수 있다.
  - 타이핑 실수를 피할 수 있다.
  - 코드를 한눈에 훑어보는 게 용이하도록 코드의 길이를 조금이라도 더 줄여준다.
  - 클래스명을 변경해야 할 때 한 곳만 바꾸면 된다.
7. 표현을 단순화하는 다른 창의적인 방법들(C++에서는 매크로 정의 등)
### 요약
- 커다란 하위표현을 대체하는 '설명 변수'를 도입한다.
  - 거대한 표현을 작은 조각으로 나눈다.
  - 하위표현을 간결한 이름으로 대체하여 코드를 문서화한다.
  - 코드를 읽는 사람이 코드의 핵심 '개념'을 파악하는 것을 돕는다.
- 때로는 문제의 의미를 '거꾸로 부정'하거나 혹은 의도한 목적의 반대편을 생각해 볼 필요도 있다.
  
## 9장. 변수와 가독성
1. 변수 제거하기
- 불필요한 임시 변수 제거
- 중간 결과 삭제하기(함수를 최대한 빨리 반환)
- 흐름 제어 변수 제거하기
2. 변수의 범위를 좁혀라
- 모든 변수의 범위를 두 배로 축소시키면, 한 번에 읽어야 하는 변수의 수는 평균적으로 반으로 줄어든다.
- 자바스크립트에서 프라이빗 변수 만들기(같은 이름의 전역 변수를 다른 목적으로 사용 방지)
- 자바스크립트 전역 범위
- 파이썬과 자바스크립트에는 없는 중첩된 범위
- 정의를 아래로 옮기기
  - 각각의 정의를 실제로 사용하기 바로 직전 위치로 옮긴다. => 예시는 자바스크립트인데, 백엔드에서도 허용인 걸까??
3. 값을 한번만 할당하는 변수를 선호하라
- 변수값이 달라지는 곳이 많을수록 현재값을 추측하기 더 어려워진다.
### 요약
- 방해되는 변수를 제거하라(중간 결과값을 저장하는 변수를 제거)
- 각 변수의 번위를 최대한 작게 줄여라
- 값이 한 번만 할당되는 변수를 선호하라