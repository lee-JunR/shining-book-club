# 9장. 최소한 알고 있어야 할 서버 지식 (핵심 정리)

## 이 장에서 다루는 내용
- 서버 OS 기본 개념
- 프로세스와 자원 관리
- 디스크·파일 디스크립터 관리
- 시간 동기화와 스케줄링
- 네트워크 상태 확인

---

## 개발자와 서버
- 개발자는 서버 환경을 이해해야 장애 상황에 대응 가능
- VirtualBox, Vagrant 등을 사용하면 로컬에서 서버 실습 가능

---

## OS 계정과 권한
- 리눅스는 **계정 + 그룹** 기반 권한 관리
- 파일 권한 구조
  - 소유자 / 그룹 / 기타 사용자
  - r(4): 읽기, w(2): 쓰기, x(1): 실행
- chmod 명령어로 숫자 또는 기호 방식으로 권한 변경
- 실행 권한이 없으면 스크립트 실행 불가
- `sudo` : 다른 사용자(주로 root) 권한으로 명령 실행

---

## 프로세스 관리
- 실행 중인 프로그램은 프로세스로 관리됨
- `ps` 명령어로 CPU, 메모리 사용량 확인
### 프로세스 종료
- `kill -15` : 정상 종료 요청 (정리 작업 수행)
- `kill -9` : 강제 종료 (즉시 종료)

---

## 백그라운드 프로세스
- 터미널을 종료해도 프로세스를 계속 실행할 수 있음
- `2>&1` : 표준 오류를 표준 출력으로 합침

---

## 디스크 용량 관리
- 디스크 부족은 서비스 장애로 이어질 수 있음
- `df` : 파티션별 디스크 사용률 확인
- `du` : 디렉토리/파일별 사용 용량 확인
  - `-s` : 합계
  - `-h` : 사람이 읽기 쉬운 단위
- 로그 파일과 임시 파일이 주요 용량 증가 원인
- 오래된 로그는 삭제 또는 압축
- `find` 명령어로 오래된 파일 자동 삭제 가능

---

## 파일 디스크립터 제한
- 파일, 소켓 등 I/O 자원은 파일 디스크립터를 사용
- 디스크립터 부족 시 네트워크 오류 발생 가능
- `ulimit -a` : 제한 확인
- `ulimit -n` : 제한 변경
- `lsof` : 프로세스가 사용 중인 디스크립터 확인
- systemd 서비스는 별도 제한 설정 필요

---

## 시간 동기화
- 서버 시간 불일치는 로그 분석 및 인증 문제 유발
- `chrony`, `ntp` 서비스로 시간 동기화
- 서버 초기 구성 시 체크리스트로 관리

---

## 크론(Cron) 스케줄링
- 크론: 정해진 시간에 작업 실행
- `crontab -l` : 등록된 작업 확인
- 반복 작업에 적합
- 일회성 작업은 `at` 명령어 사용

---

## 네트워크 정보 확인
### IP 확인
- `ifconfig` : 서버 IP 주소 확인
### 포트 연결 확인
- `nc` : 특정 포트 연결 여부 확인
  - `-z` : 포트 열림 여부만 확인
  - `-v` : 상세 정보 출력
- `curl`, `wget` : API 요청 테스트
### 포트 사용 현황
- `netstat`
  - `-l` : 리스닝 포트
  - `-p` : PID/프로그램
  - `-t/-u` : TCP/UDP
  - `-n` : 숫자 출력
  - `-a` : 전체 포트
